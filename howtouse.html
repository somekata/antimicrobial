<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quick Guide</title>
    <style>
      :root {
        --brand: #4caf50;
        --text: #333;
        --bg: #f9f9f9;
        --card: #fff;
        --muted: #666;
        --shadow: 0 10px 24px rgba(0, 0, 0, 0.08);
        --radius: 16px;
        --radius-sm: 10px;
      }

      * {
        box-sizing: border-box;
      }
      html,
      body {
        margin: 0;
        padding: 0;
      }
      body {
        font-family: system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, "Noto Sans JP", "Hiragino Kaku Gothic ProN",
          Meiryo, sans-serif;
        color: var(--text);
        background: radial-gradient(
            1200px 600px at 70% -10%,
            rgba(76, 175, 80, 0.07),
            transparent
          ),
          var(--bg);
        line-height: 1.75;
      }

      .container {
        max-width: 960px;
        margin: 40px auto 64px;
        padding: 0 20px;
      }

      /* ヒーローヘッダ */
      .hero {
        background: linear-gradient(
          135deg,
          rgba(76, 175, 80, 0.12),
          rgba(76, 175, 80, 0.04)
        );
        border: 1px solid rgba(76, 175, 80, 0.18);
        border-radius: var(--radius);
        padding: 28px 24px;
        box-shadow: var(--shadow);
        backdrop-filter: blur(2px);
      }

      .title {
        margin: 0 0 8px;
        font-size: clamp(22px, 3.6vw, 32px);
        font-weight: 800;
        letter-spacing: 0.02em;
        color: var(--brand);
        text-align: center;
      }

      .lead {
        margin: 0;
        color: var(--muted);
        text-align: center;
        font-size: clamp(14px, 2.4vw, 16px);
      }

      /* カード */
      .card {
        margin-top: 24px;
        background: var(--card);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        border: 1px solid #e9e9e9;
        overflow: hidden;
      }

      .card__section {
        padding: 20px 22px;
      }
      .card__section + .card__section {
        border-top: 1px solid #eee;
      }

      h2 {
        margin: 0 0 10px;
        font-size: clamp(18px, 2.8vw, 20px);
        color: var(--brand);
      }

      /* リッチ番号リスト */
      ol.pretty {
        margin: 12px 0 0 0;
        padding: 0;
        counter-reset: step;
        list-style: none;
      }
      .pretty li {
        position: relative;
        padding: 14px 14px 14px 52px;
        border: 1px solid #eee;
        border-radius: var(--radius-sm);
        background: #fff;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
        margin: 10px 0;
      }
      .pretty li::before {
        counter-increment: step;
        content: counter(step);
        position: absolute;
        left: 14px;
        top: 50%;
        transform: translateY(-50%);
        width: 28px;
        height: 28px;
        display: grid;
        place-items: center;
        border-radius: 50%;
        background: var(--brand);
        color: #fff;
        font-weight: 700;
        font-size: 14px;
        box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.15);
      }

      .note {
        font-size: 14px;
        color: var(--muted);
        background: #fffffe;
        border-left: 4px solid var(--brand);
        padding: 12px 14px;
        border-radius: 8px;
        margin: 10px 0;
      }

      /* ボタン（アンカー） */
      .actions {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 26px;
      }
      a.btn {
        display: inline-block;
        padding: 12px 20px;
        border-radius: 999px;
        text-decoration: none;
        font-weight: 700;
        font-size: 15px;
        letter-spacing: 0.02em;
        border: 1px solid rgba(76, 175, 80, 0.25);
        background: linear-gradient(180deg, #4caf50, #3fa548);
        color: #fff;
        box-shadow: 0 10px 18px rgba(76, 175, 80, 0.28),
          0 1px 0 rgba(255, 255, 255, 0.6) inset;
        transform: translateY(0);
        transition: transform 0.15s ease, filter 0.2s ease, box-shadow 0.2s ease;
      }
      a.btn:hover {
        filter: brightness(1.03);
        transform: translateY(-2px);
        box-shadow: 0 14px 22px rgba(76, 175, 80, 0.32);
      }
      a.btn:active {
        transform: translateY(0);
        filter: brightness(0.98);
      }

      /* レスポンシブ細部 */
      @media (max-width: 520px) {
        .container {
          margin: 20px auto 40px;
        }
        .card__section {
          padding: 16px;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <header class="hero">
        <h1 class="title">「抗微生物薬リスト」<br />クイックガイド</h1>
      </header>
      <section class="card">
        <div class="card__section">
          <h2>概要</h2>
          <p>
            「抗微生物薬リスト」は、利便性を重視するため主な抗菌薬・抗真菌薬に絞って一覧にしています。また、AWaReなどの関連用語の説明も掲載しています。
          </p>
        </div>
        <div class="card__section">
          <h2>基本の流れ</h2>
          <ol class="pretty">
            <li>
              「項目を選択」のプルダウンから項目を選びます。<br />
              項目は抗菌薬の種類だけでなく、用語の説明（AWaRe分類など）も含みます。
            </li>
            <li>
              「ビューを選択」で表示方法を切り替えられます。<br />
              表形式（テーブルビュー）と詳細形式（縦型ビュー）が選べます。
            </li>
            <li>
              縦型ビューで「詳細を見る」ボタンを押すと、追加の説明が展開されます。<br />
              （準備中の項目もあります）
            </li>
          </ol>
        </div>

        <div class="card__section">
          <h2>注意と補足</h2>
          <p class="note">
            公開前に確認をしていますが、ASC、ASI、AWaRe分類などに誤りを含む場合があります。
          </p>
          <p class="note">
            本リストの作成に際して、一部生成AIを利用しています。
          </p>
        </div>
        <div class="card__section">
          <h2>関連リンク</h2>
          <p>
            <ul>
                <li><a
              href="http://filgap.kenkyuukai.jp/special/?id=41988"
              target="_blank"
              >細菌楽入門</a
            ></li>
                <li><a href="https://somekata.github.io/baikinscharacters/" target="_blank">バイキンズキャラクターの紹介</a></li>
            </ul>
          </p>
        </div>

        <div class="card__section">
          <div class="actions">
            <!-- 閉じる（新規タブで開かれた場合はタブを閉じる） -->
            <a href="#" id="closeWindow" class="btn">閉じる（タブを閉じる）</a>
          </div>
        </div>
      </section>
    </div>

    <script>
      // window.close() は「スクリプトで開かれた（例：target=_blank）」タブでのみ有効。
      // 失敗時は index.html にフォールバック。
      document
        .getElementById("closeWindow")
        .addEventListener("click", function (e) {
          e.preventDefault();
          const canClose = !!window.opener || window.name !== "";
          // iOS/Safari 等では opener が null でも close できる場合があるので一度試す
          window.close();
          // ほんのわずか待ってフォールバック
          setTimeout(() => {
            // 閉じられていない場合だけ遷移
            // （window.closed はクロスブラウザで確実ではないので location で担保）
            if (!document.hidden) location.href = "index.html";
          }, 120);
        });
    </script>
  </body>
</html>
